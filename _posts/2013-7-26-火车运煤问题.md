---
layout: post
category: 算法 
tags: 算法
---

在CoolShell上看到一道智力题，挺有意思的，并且和前段时间在陈利人微薄上看到的鸡蛋挺住笔试题有一曲同工之妙，就将这两题一遍摘抄到此。

### 火车运煤

问题描述简化如下,[原题链接点这](coolshell.cn/articles/4429.html)：
> 将3000吨煤从A点运输到B点，A与B之间路线为1000公里，有一辆烧煤的火车来运输，最多只能装满1000吨煤，并且每一公里消耗一吨煤，问，最多> 能有多少吨煤运到B点。 

初看此题可能发现没法运阿，运过去就消耗没了，火车还回不来了，但既然能够运过去，肯定就不能直接运过去，得分段，一段段的运输。在后面网友给出了强大的分析过程。可以查看上面的链接，看到网友的分析。下面这段也是从那借鉴过来。

##### 分析

要得到最优解，先了解其两个特征：
1 火车肯定要从起点出发3次，因为每次最多只能运输1000吨
2 火车前两次回到起点要用完车上存煤，否则浪费

火车是每次运1000吨煤出发，到X点，卸下`1000-2X`吨煤，然后回去，前两次到X点都卸下同样多的煤，第三次到达X点，则共有煤`2*(1000-2x) + 1000-x = 3000-5x`,倘若这剩下的小于1000吨，则火车可以一次运到终点，边界条件如下，
> 3000-5x <= 1000
> d = 3000-5x-(1000-x)
求解得`x>=400`,`d <= 400`,则可以运到终点最多400吨。倘若剩下的还是多余1000吨，这样问题就变成从X点出发到B点，距离为`1000-x`,煤的总量为`3000-5x`,然后依此类推，找取下一个X点。
这样观察若要保证到终点煤的总量最大:

3  火车回程要尽可能短 

之所以要回程尽可能短，后面火车要尽可能少回头，尽可能多的装载，理想状态是每次回去后都装满1000吨煤出发。则要使第三次到达X点剩余2000吨，`3000-5x=2000 x=200`,第二次到达Y点，`2000-3y=1000 y=333.33`,则最终到达终点可以`1000-(1000-200-333.33)= 533.33`

##### 推广

根据上面的分析，可以推广为火车容量为K，要运载NK的煤到距离为K外的点，那么每个中转站点X为N*K-（2N-1)X=(N-1)k。但是还有一个问题，火车容量为K，运输距离为D，煤的总量为N，这三个数之间没有关联，怎么破？

### 鸡蛋挺住

此问题是在陈利人老师的微博上看到的，在[图灵社区找到这个题目的地址](http://ituring.com.cn/article/49817),问题描述如下：

> 两个鸡蛋，软硬程度一样但未知的鸡蛋，它们可能都在一楼就摔碎，也可能从一百楼摔下来没事，有座100层的建筑，要你用这两个鸡蛋以最少的>> 次数确定哪一层是鸡蛋可以安全落下的最高位置，可以摔碎两个鸡蛋。

##### 分析

此问题和上面的十分相似，

